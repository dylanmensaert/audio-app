{{outlet}}

{{#if audioPlayer.track}}
    {{#c-fixed class=(concat 'my-audio-player' (if isCollapsed ' collapsed')) alignment='bottom' offset=10}}
        {{c-audio-slider slider=utils.audioSlider disabled=isCollapsed}}

        <div class="row my-audio-timer">
            <div class="col s6">
                <small>
                    {{time utils.audioSlider.value}}
                </small>
            </div>

            <div class="col s6 my-right">
                <small>
                    {{time utils.audioSlider.max}}
                </small>
            </div>
        </div>

        {{#if isCollapsed}}
          <div class="row my-audio-row">
            <div  {{action 'toggleCollapse'}}>
                <div class="col s3">
                  {{c-parallax model=audioPlayer.track}}
                </div>

                <div class="col s7">
                  <h5 class="truncate my-title">
                      {{audioPlayer.track.name}}

                      {{#if audioPlayer.playlist.name}}
                        <div class="my-subtitle">
                          {{audioPlayer.playlist}}
                        </div>
                      {{/if}}
                  </h5>
                </div>
            </div>

            {{#if audioPlayer.isLoading}}
              <div class="col s2 my-audio-btn">
                  {{c-spinner type='my-audio-spinner'}}
              </div>
            {{else if audioPlayer.isPlaying}}
              <div class="col s2 my-audio-btn" {{action 'pause'}}>
                  <i class="mdi mdi-pause my-audio-icon"></i>
              </div>
            {{else if audioPlayer.isIdle}}
              <div class="col s2 my-audio-btn" {{action 'resume'}}>
                  <i class="mdi mdi-play my-audio-icon"></i>
              </div>
            {{/if}}
          </div>
        {{else}}
          <div class="row">
            <div class="col s6" {{action 'toggleCollapse'}}>
                <i class="mdi mdi-link-variant"></i>
            </div>

            <div class="col s6">
              {{#link-to audioRemote.routeName audioRemote.model}}
                <i class="mdi mdi-link-variant"></i>
              {{/link-to}}
            </div>
          </div>

          {{c-parallax model=audioPlayer.track}}

          <h5 class="truncate my-title">
              {{audioPlayer.track.name}}

              {{#if audioPlayer.playlist.name}}
                <div class="my-subtitle">
                  {{audioPlayer.playlist}}
                </div>
              {{/if}}
          </h5>

          <div class="row">
             <div class="col s4" {{action 'previous'}}>
               <i class="mdi mdi-skip-previous"></i>
             </div>

             <div class="col s4" {{action 'previous'}}>
               <i class="mdi mdi-play my-audio-icon"></i>
             </div>

             <div class="col s4" {{action 'next'}}>
               <i class="mdi mdi-skip-next"></i>
             </div>
          </div>
        {{/if}}
    {{/c-fixed}}
{{/if}}

{{c-audio}}
