{{c-menu}}

{{#if isEditMode}}
  {{c-input-bar value=name placeholder='Edit' done='save'}}
{{/if}}

<div class="card my-card-cover">
  {{#if models.length}}
    <div class="card-image waves-effect waves-block waves-light" {{action 'play'}}>
      {{c-parallax src=model.thumbnail}}
    </div>
  {{else}}
    <div class="card-image">
      {{c-parallax src=model.thumbnail}}
    </div>
  {{/if}}

  <div class="card-content my-relative">
    {{#if model.isEditable}}
      {{#c-fixed-btn class='fixed-action-btn horizontal click-to-toggle my-card-content'}}
        <a class="btn-floating btn-large waves-effect waves-light red my-model-btn">
          <i class="material-icons">menu</i>
        </a>

        <ul>
          <li>
            <a href="javascript:void(0)" class="btn-floating yellow darken-1" {{action 'setupEdit'}}>
              <i class="material-icons">mode_edit</i>
            </a>
          </li>

          {{#if model.isSaved}}
            <li>
              <a href="javascript:void(0)" class="btn-floating red" {{action 'delete'}}>
                  <i class="material-icons">delete</i>
              </a>
            </li>
          {{else}}
            <li>
              <a href="javascript:void(0)" class="btn-floating blue" {{action 'save'}}>
                  <i class="material-icons">file_download</i>
              </a>
            </li>
          {{/if}}
        </ul>
      {{/c-fixed-btn}}
    {{/if}}

    <span class="card-title activator grey-text text-darken-4 truncate">
      {{model.name}}
    </span>

    <div class="row my-subtext">
      {{#if model.isEditable}}
        <div class="truncate">
          Playlist
        </div>

       {{#if model.isSaved}}
          <i class="material-icons left grey-text">file_download</i>
        {{/if}}

       {{#if isQueued}}
          <i class="material-icons left grey-text">file_download</i>
        {{/if}}
      {{/if}}
    </div>
  </div>
</div>

{{c-tracks models=sortedModels isPending=isPending hideQueued=isQueued didScrollToBottom='didScrollToBottom'}}