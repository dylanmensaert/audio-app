{{#mdl-layout}}
  {{#if isSearchMode}}
    {{#mdl-component class='mdl-layout__header-row autocomplete-header'}}
      <label {{action 'endSearchMode'}} class="mdl-button mdl-js-button mdl-button--icon menu-icon">
        <i class="material-icons">
          arrow_back
        </i>
      </label>

      {{audio-autocomplete action='search' liveQuery=liveQuery suggestions=suggestions}}

      <div class="mdl-layout-spacer"></div>

      {{#if liveQuery}}
        {{#mdl-component tagName='button' action='clear' class='mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon'}}
          <i class="material-icons">close</i>
        {{/mdl-component}}
      {{/if}}
    {{/mdl-component}}
  {{/if}}

  <header class="mdl-layout__header {{if isSearchMode 'hidden'}}">
    <div class="mdl-layout__header-row">
      <div class="mdl-textfield mdl-js-textfield">
        <input value={{liveQuery}} {{action 'startSearchMode'}} class="mdl-textfield__input">

        <label class="mdl-textfield__label"></label>
      </div>

      <div class="mdl-layout-spacer"></div>

      <button {{action 'selectAll'}} class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon">
        <i class="material-icons">more_vert</i>
      </button>
    </div>
  </header>

  <main class="mdl-layout__content mdl-color--grey-100">
    {{#endless-scroll didScrollToBottom=didScrollToBottom}}
        {{#if cache.selectedRecordings}}
            {{recording-action-bar recordings=cache.selectedRecordings isEditMode=isEditMode download='download' remove='remove' setupEdit='setupEdit' exitEdit='exitEdit'}}
        {{/if}}

        <div class="mdl-grid my-grid">
            {{#each sortedRecordings as |recording|}}
                {{audio-album model=recording action='play' swipeleft='pushToDownload' swiperight='pushToQueue' showQueued=recording.isQueued}}
            {{/each}}
        </div>

        {{#if isLoading}}
            <div class="text-center">
                {{mdl-component tagName='i' class='mdl-spinner mdl-js-spinner is-active'}}
            </div>
        {{/if}}
    {{/endless-scroll}}
  </main>
{{/mdl-layout}}

{{audio-bar audioPlayer=audioPlayer transitionToQueue=transitionToQueue play=play pause=pause}}